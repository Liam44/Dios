@using Dios.ViewModels;

@model FlatDetailsVM

@{
    ViewData["Title"] = "Radera en lägenhet";
}

<h2>Vill du verkligen radera denna lägenhet?</h2>

<h4>Lägenhet</h4>
<div>
    <hr />
    <table class="table">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.Address)</th>
                <th>@Html.DisplayNameFor(model => model.EntryDoorCode)</th>
                <th>@Html.DisplayNameFor(model => model.Floor)</th>
                <th>@Html.DisplayNameFor(model => model.Number)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.Address.ToString()</td>
                <td>@Html.DisplayFor(model => model.EntryDoorCode)</td>
                <td>@Html.DisplayFor(model => model.Floor)</td>
                <td>@Html.DisplayFor(model => model.Number)</td>
            </tr>
        </tbody>
    </table>

    <h4>Boende</h4>
    <hr />

    <table class="table">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => Model.Parameters.First().User.PersonalNumber)</th>
                <th>@Html.DisplayNameFor(model => Model.Parameters.First().User.LastName)</th>
                <th>@Html.DisplayNameFor(model => Model.Parameters.First().User.FirstName)</th>
                <th>@Html.DisplayNameFor(model => Model.Parameters.First().User.Email)</th>
                <th>@Html.DisplayNameFor(model => Model.Parameters.First().User.PhoneNumber)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (ParameterDetailsVM parameter in Model.Parameters)
            {
                <tr>
                    <td>@Html.DisplayFor(model => parameter.User.PersonalNumber)</td>
                    <td>@Html.DisplayFor(model => parameter.User.LastName)</td>
                    <td>@Html.DisplayFor(model => parameter.User.FirstName)</td>
                    <td>@Html.DisplayFor(model => parameter.User.Email)</td>
                    <td>@Html.DisplayFor(model => parameter.User.PhoneNumber)</td>
                </tr>
            }
        </tbody>
    </table>

    <form asp-action="Delete">
        <input type="hidden" asp-for="ID" />
        <input type="submit" value="Radera" class="btn btn-default" /> |
        <a asp-action="Details" asp-controller="Addresses" asp-route-id="@Model.Address.ID">Tillbaka</a>
    </form>
</div>
